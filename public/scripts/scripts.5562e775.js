"use strict";angular.module("whatsupApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","lumx","btford.socket-io","emoji","ngImgCrop","angularFileUpload","file-model"]).factory("socket",["socketFactory",function(a){return a({ioSocket:io()})}]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/home/:username",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterCtrl",controllerAs:"register"}).otherwise({redirectTo:"/"})}]),angular.module("whatsupApp").directive("usernameUnique",["$http",function(a){return{require:"?ngModel",link:function(b,c,d,e){e.$parsers.push(function(b){return b&&0!==b.length?(e.$setValidity("usernameAvailability",!1),a({method:"GET",url:"/checkusername",params:{username:b}}).success(function(a){1==a?e.$setValidity("usernameAvailability",!0):e.$setValidity("usernameAvailability",!1)})["catch"](function(){e.$setValidity("usernameAvailability",!1)}),b):void 0})}}}]),angular.module("whatsupApp").directive("compareTo",function(){return{require:"ngModel",link:function(a,b,c,d){var e="#"+c.compareTo;b.add(e).on("keyup",function(){a.$apply(function(){var a=b.val()===$(e).val();d.$setValidity("pwmatch",a)})})}}}),function(){function a(a,c,d,e){function f(b,c,d){var e={};a({method:"POST",url:"/post/login",data:{username:b,password:c}}).success(function(a){e=1==a?{success:!0}:{success:!1,message:"Username or password is incorrect"},d(e)})["catch"](function(){e={success:!1,message:"Username or password is incorrect"},d(e)})}function g(){k.ClearCredentials()}function h(){return void 0!=c.get("globals")}function i(e,f){var g=b.encode(e+":"+f);d.globals={currentUser:{username:e,authdata:g}},a.defaults.headers.common.Authorization="Basic "+g,c.put("globals",d.globals)}function j(){d.globals={},c.remove("globals"),a.defaults.headers.common.Authorization="Basic"}var k={};return k.Login=f,k.SetCredentials=i,k.ClearCredentials=j,k.isLogin=h,k.Logout=g,k}angular.module("whatsupApp").factory("AuthenticationService",a),a.$inject=["$http","$cookieStore","$rootScope","$timeout"];var b={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g="",h="",i="",j=0;do b=a.charCodeAt(j++),c=a.charCodeAt(j++),h=a.charCodeAt(j++),d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this.keyStr.charAt(d)+this.keyStr.charAt(e)+this.keyStr.charAt(f)+this.keyStr.charAt(i),b=c=h="",d=e=f=i="";while(j<a.length);return g},decode:function(a){var b,c,d,e,f,g="",h="",i="",j=0,k=/[^A-Za-z0-9\+\/\=]/g;k.exec(a)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do d=this.keyStr.indexOf(a.charAt(j++)),e=this.keyStr.indexOf(a.charAt(j++)),f=this.keyStr.indexOf(a.charAt(j++)),i=this.keyStr.indexOf(a.charAt(j++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,h=(3&f)<<6|i,g+=String.fromCharCode(b),64!=f&&(g+=String.fromCharCode(c)),64!=i&&(g+=String.fromCharCode(h)),b=c=h="",d=e=f=i="";while(j<a.length);return g}}}(),angular.module("whatsupApp").run(["$rootScope","$location","AuthenticationService","$cookieStore",function(a,b,c,d){a.$on("$routeChangeStart",function(a){if("/login"===b.path()||"/register"===b.path()||"/"===b.path()){if(!c.isLogin())return;b.url("/home/"+d.get("globals").currentUser.username)}c.isLogin()||(console.log("DENY"),a.preventDefault(),b.path("/login"))})}]),angular.module("whatsupApp").controller("MainCtrl",["$scope","$http","$timeout","socket","LxNotificationService","LxDialogService","LxDatePickerService","AuthenticationService","$location","$routeParams",function(a,b,c,d,e,f,g,h,i,j){function k(b){var c,d=!1;c=a.compareUser(b.sender,a.user)?b.receiver:b.sender,a.compareUser(c,a.activeuser)&&(b.status=1),a.messages.forEach(function(e){a.compareUser(e.user,c)&&(d=!0,e.messages.push(b))}),d||a.messages.push({user:c,messages:[b]})}function l(){for(var c=void 0,d=0;d<a.friendlist.length;d++){for(var e=0;e<a.friendlist[d].tagmember.length;e++)if(a.compareUser(a.friendlist[d].tagmember[e],a.activeuser)){c=a.friendlist[d].tagid;break}if(c)break}if(c){b({method:"POST",url:"/post/deletefriend",data:{user:a.user,deletedfriend:a.activeuser,groupid:c}}).success(function(){for(var b=!1,c=0;c<a.friendlist.length;c++){for(var d=0;d<a.friendlist[c].tagmember.length;d++)if(a.compareUser(a.friendlist[c].tagmember[d],a.activeuser)){b=!0,a.friendlist[c].tagmember.splice(d,1);break}if(b)break}for(var c=0;c<a.messages.length;c++)if(a.compareUser(a.messages.user,a.activeuser)){a.messages.splice(c,1);break}a.activeuser=void 0});for(var f=!1,d=0;d<a.friendlist.length;d++){for(var e=0;e<a.friendlist[d].tagmember.length;e++)if(a.compareUser(a.friendlist[d].tagmember[e],a.activeuser)){f=!0,a.friendlist[d].tagmember.splice(e,1);break}if(f)break}for(var d=0;d<a.messages.length;d++)if(a.compareUser(a.messages[d].user,a.activeuser)){a.messages.splice(d,1),console.log("found");break}a.activeuser=void 0}}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.user={name:"",id:"",photo:""},a.gotMessage=!1,a.rightpage=0,console.log(j),b({method:"GET",url:"/json/init.json",params:{username:j.username}}).success(function(b){a.user=b.user,a.friendlist=b.friendlist,d.emit("add user",a.user.id),d.on(a.user.id,function(b){if(b)if(1==b.type)e.notify(b.val.sender.name+":"+b.val),k(b.val);else if(2==b.type){e.notify("New Friend: "+b.val.user.name);for(var c=b.val.groupid,d=b.val.user,f=0;f<a.friendlist.length;f++)c==a.friendlist[f].tagid&&a.friendlist[f].tagmember.push(d)}else if(3==b.type){for(var d=b.val,g=!1,f=0;f<a.friendlist.length;f++){for(var h=0;h<a.friendlist[f].tagmember.length;h++)if(a.compareUser(a.friendlist[f].tagmember[h],d)){g=!0,a.friendlist[f].tagmember.splice(h,1);break}if(g)break}for(var f=0;f<a.messages.length;f++)if(a.compareUser(a.messages.user,d)){a.messages.splice(f,1);break}}})}),b({method:"GET",url:"/json/messages.json",params:{username:j.username}}).success(function(b){a.messages=b,a.gotMessage=!0}),a.searchFilter={name:""},a.newActiveUser=function(b){a.activeuser=b;for(var c=0;c<a.friendlist.length;c++)for(var d=0;d<a.friendlist[c].tagmember.length;d++)a.friendlist[c].tagmember[d].id==b.id&&(a.activeuser.photo=a.friendlist[c].tagmember[d].photo);a.messages.forEach(function(b){a.compareUser(b.user,a.activeuser)&&b.messages.forEach(function(a){a.status=1})}),a.searching=!1,a.searchFilter.name="",a.rightpage=1},a.textField={textarea:{inputmessage:""}},a.compare=function(a,b){return angular.equals(a,b)},a.countUnreadMessage=function(a){var b=0;return a.forEach(function(a){0==a.status&&b++}),b},a.sendMessage=function(){if(""!=a.textField.textarea.inputmessage){var b={sender:{name:a.user.name,id:a.user.id},receiver:{name:a.activeuser.name,id:a.activeuser.id},value:a.textField.textarea.inputmessage,time:(new Date).toISOString(),status:0};k(b),d.emit("message from client",b),angular.element("#dialog").scrollTop(angular.element("#dialog")[0].scrollHeight),a.textField.textarea.inputmessage=""}},a.searchresult=[],a.searching=!1,a.searchFriend=function(b){return console.log(b),b?(b=b.toLowerCase(),a.searching=!0,a.searchresult=[],void a.friendlist.forEach(function(c){c.tagmember.forEach(function(c){name=c.name.toLowerCase(),name.includes(b)&&a.searchresult.push(c)})})):void(a.searching=!1)},a.changeRightPage=function(b){a.rightpage=b};var m;a.userprofile=void 0,a.friendprofile=void 0,a.editProfile=function(){void 0==a.userprofile&&b({method:"GET",params:{userid:a.user.id},url:"/json/profile.json"}).success(function(b){a.userprofile=b,m=JSON.parse(JSON.stringify(b))}),f.open("editprofile")},a.lookFriendProfile=function(){b({method:"GET",params:{userid:a.activeuser.id},url:"/json/friendprofile.json"}).success(function(b){a.friendprofile=b}),f.open("friendprofile")},a.dialogClose=function(a,b,d){f.close(a),b&&c(function(){d?f.open(d):f.open("editprofile")},700)},a.dialogOpen=function(a,b,d){return"changebirthday"==a?void g.open(a):(b&&(d?f.close(d):f.close("editprofile")),void c(function(){f.open(a)},700))},a.cancelChange=function(b,c){return b?(a.userprofile[b]!=m[b]&&(a.userprofile[b]=m[b]),void a.dialogClose(c,!0)):(a.userprofile=m,void a.dialogClose(c,!1))},a.saveChange=function(c){a.compare(m,a.userprofile)||(b({method:"POST",url:"/post/profile",data:{id:a.user.id,profile:a.userprofile}}).success(function(){m=JSON.parse(JSON.stringify(a.userprofile))}),a.user.photo=a.userprofile.photo,a.dialogClose(c,!1))},a.genderchoice=["Male","Female"],a.dataPickerCallback=function(b){a.userprofile.birthday=moment(b).locale("en").format("LL")},a.searchFilter={byname:void 0,byemail:void 0},a.searchPersonByName=function(){a.searchFilter.byname&&b({method:"POST",url:"/json/searchbyname.json",data:{name:a.searchFilter.byname,user:a.user}}).success(function(b){a.searchbynameresult=b})},a.searchPersonByEmail=function(){a.searchFilter.byemail&&b({method:"POST",url:"/json/searchbyemail.json",data:{name:a.searchFilter.byemail,user:a.user}}).success(function(b){a.searchbyemailresult=b})},a.selectModel={choosedgroup:void 0},a.addfrienddata={user:a.user,adduser:void 0,groupid:void 0,message:void 0},a.addFriendChooseGroup=function(b){a.addfrienddata.adduser=b,a.dialogOpen("choosegroup",!0,"addfriends")},a.choosedfriend=void 0,a.addFriendWithGroup=function(){a.addfrienddata.groupid=a.selectModel.choosedgroup.tagid,a.addfrienddata.user=a.user,console.log(a.addfrienddata),b({method:"POST",url:"/post/addfriends",data:a.addfrienddata}).success(function(){a.choosedfriend=a.addfrienddata.adduser}),a.choosedfriend=a.addfrienddata.adduser,a.dialogClose("choosegroup",!0,"addfriends")},a.textFields={floating:{newgroup:void 0}},a.addGroup=function(){if(a.textFields.floating.newgroup){var c={tagname:void 0,tagid:void 0,tagmember:[]};b({method:"POST",url:"/post/addgroup",data:{user:a.user,groupname:a.textFields.floating.newgroup}}).success(function(b){b&&(c.tagid=b.id,c.tagname=b.name,c.tagmember=[]),a.friendlist.push(c),a.textFields.floating.newgroup=""})}},a.deleteFriendconfirmBox=function(){e.confirm("Delete Friend","Do you want to delete friend "+a.activeuser.name+" ?",{cancel:"Cancel",ok:"Ok"},function(a){a&&l()})},a.compareUser=function(a,b){return a&&b?a.id==b.id&&a.name==b.name:!1},a.chunk=function(b,c){a.emojiarr=[];for(var d=[],e=0;e<a.emojis.length;e+=c)d.push(a.emojis.slice(e,e+c));for(var f=0;f<d.length;f+=b)a.emojiarr.push(d.slice(f,f+b))},a.increasePage=function(){a.pagenumber>=a.emojiarr.length-1||a.pagenumber++},a.decreasePage=function(){a.pagenumber<=0||a.pagenumber--},a.pagenumber=0,a.pagenumberInit=function(){a.pagenumber=0},a.logoutConfirmBox=function(){e.confirm("Confirm","Do you want to logour ?",{cancel:"Cancel",ok:"Ok"},function(a){a&&(h.Logout(),i.url("/login"))})},a.clickFileInput=function(){angular.element(document.querySelector("#fileInput")).click()},a.myImage="",a.myCroppedImage={src:""},a.imageFile={src:""},a.addFile=function(){console.log("test");var b=document.getElementById("fileInput").files[0];a.dialogOpen("cropperimage",!0);var c=new FileReader;c.onload=function(b){a.$apply(function(a){a.myImage=b.target.result})},c.readAsDataURL(b)},a.updatePhoto=function(){a.userprofile.photo=a.myCroppedImage.src.split("data:image/png;base64,")[1],a.dialogClose("cropperimage",!0)},a.friendRequestMessage=void 0,a.dealFriendRequest=function(c,d){a.friendRequestMessage=c.extra,c.extra.status=d,1==d?a.dialogOpen("acceptchoosegroup"):b({method:"POST",url:"/post/dealfriendrequest",data:{user:{name:a.user.name,id:a.user.id,groupid:""},friend:{name:c.extra.user.name,id:c.extra.user.id,groupid:""},status:d}})},a.acceptChooseGroup=function(){var c=a.selectModel.choosedgroup.tagid;b({method:"POST",url:"/post/dealfriendrequest",data:{user:{name:a.user.name,id:a.user.id,groupid:c},friend:{name:a.friendRequestMessage.user.name,id:a.friendRequestMessage.user.id,groupid:a.friendRequestMessage.groupid},status:a.friendRequestMessage.status}}).success(function(){a.friendlist.forEach(function(b){b.tagid==c&&b.tagmember.push({name:a.friendRequestMessage.user.name,id:a.friendRequestMessage.user.id,photo:a.friendRequestMessage.user.photo})});var b={sender:{name:a.user.name,id:a.user.id},receiver:{name:a.friendRequestMessage.user.name,id:a.friendRequestMessage.user.id},value:"I have accepted your friend request",time:(new Date).toISOString(),status:1};k(b),d.emit("message from client",b)}),a.dialogClose("acceptchoosegroup")},a.getUserPhoto=function(b){for(var c=0;c<a.friendlist.length;c++)for(var d=0;d<a.friendlist[c].tagmember.length;d++)if(a.friendlist[c].tagmember[d].id==b)return a.friendlist[c].tagmember[d].photo},a.emojis=["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface","sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel","bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn","house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de","one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_square","white_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}]),angular.module("whatsupApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("whatsupApp").controller("LoginCtrl",["$scope","$http","AuthenticationService","$location",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.login={username:void 0,password:void 0},a.sendForm=function(){a.loginForm.$valid&&(a.wrong=!1,console.log(a.login),c.Login(a.login.username,a.login.password,function(b){1==b.success?(c.SetCredentials(a.login.username,a.login.password),d.url("/home/"+a.login.username)):a.wrong=!0}))}}]),angular.module("whatsupApp").controller("RegisterCtrl",["$rootScope","$scope","FileUploader","LxDialogService","LxNotificationService","$http","$location",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];b.myImage="",b.myCroppedImage={src:""},b.addFile=function(a){d.open("cropperimage");var c=a,e=new FileReader;e.onload=function(a){b.$apply(function(b){b.myImage=a.target.result})},e.readAsDataURL(c)},b.cancel=!1,b.cancelCropper=function(){d.close("cropperimage"),b.cancel=!0},b.close=function(){d.close("cropperimage")},b.register={username:void 0,email:void 0,password:void 0,repeatpsw:void 0},b.sendForm=function(){b.registerForm.$valid&&f({method:"POST",url:"/post/register",data:{form:b.register,image:b.myCroppedImage.src}}).success(function(){e.confirm("Register Success","Register Sucessful,automatically jump to login page",{ok:"OK"},function(a){g.path("/login")})})}}]),angular.module("whatsupApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/login.html",'<!--<div  layout="row" layout-align="center center" >\n    <md-card flex="50">\n      <form name="loginForm" novalidate ng-submit="sendForm()"> \n        <img ng-src="{{imagePath}}" class="md-card-image" alt="Washed Out">\n        <md-card-title>\n          <md-card-title-text>\n            <span class="md-headline">WhatsUp</span>\n          </md-card-title-text>\n        </md-card-title>\n        <md-card-content>\n          <md-input-container class="md-icon-float md-block">\n            <label>Name</label>\n            <md-icon><ng-md-icon icon="account_box"></ng-md-icon></md-icon>\n            <input ng-model="login.username" name="username" type="text" required>\n            <div ng-messages="loginForm.username.$error">\n              <div ng-message="required">This field is required.</div>\n            </div>\n         </md-input-container>\n         <md-input-container class="md-icon-float md-block">\n            <label>Password</label>\n            <md-icon><ng-md-icon icon="vpn_key"></ng-md-icon></md-icon>\n            <input ng-model="login.password" type="password" name="password" required>\n            <div ng-messages="loginForm.password.$error">\n              <div ng-message="required">This field is required.</div>\n            </div>\n         </md-input-container>\n        </md-card-content>\n        <md-card-actions layout="row" layout-align="center center">\n          <md-button class="md-raised md-primary" type="submit">Login</md-button>\n          <a href="#/register"><md-button class="md-raised md-warn" >Register</md-button></a>\n        </md-card-actions>\n        </form> \n     </md-card>\n</div>--> <div class="login row"> <div class="card col-md-6 col-md-offset-3 col-xs-6 col-xs-offset-3" style="bottom:-100px"> <form name="loginForm" novalidate ng-submit="sendForm()"> <div class="p+"> <h1 class="fs-display-3 display-block">WhatsUp</h1> <h2 class="tc-black-2 display-block">Login</h2> <lx-text-field lx-label="Name" lx-allow-clear="true"> <input ng-model="login.username" name="username" type="text" required> </lx-text-field> <!--<span class="text-field-error" ng-if="">Email invalid</span>--> <div ng-messages="loginForm.username.$error" ng-if="loginForm.username.$touched||loginForm.$submitted" class="text-field-error"> <div ng-message="required">This field is required.</div> </div> <lx-text-field lx-label="Password" lx-allow-clear="true"> <input ng-model="login.password" type="password" name="password" required> </lx-text-field> <div ng-messages="loginForm.password.$error" ng-if="loginForm.password.$touched||loginForm.$submitted" class="text-field-error"> <div ng-message="required">This field is required.</div> </div> <div class="text-field-error" ng-if="wrong"> Wrong username or password </div> </div> <div class="card__actions" flex-container="row" flex-align="center"> <lx-button lx-color="black" type="submit" lx-type="flat">Login</lx-button> <lx-button lx-color="orange" lx-type="flat" ng-href="/#/register">Register</lx-button> </div> </form> </div> </div>'),a.put("views/main.html",'<div class="p+ row main" style="height:100%"> <div class="p+ col-md-3" style="height:100%"> <div class="card" style="height:100%"> <div style="height:100%"> <div style="height:10%"> <div class="card bgc-indigo-500"> <div class="toolbar"> <span class="toolbar__label fs-title tc-white-1 ml">{{user.name}}</span> <div class="toolbar__right"> <lx-search-filter lx-color="white" lx-closed="true"> <input type="text" ng-model="searchFilter.name" ng-change="searchFriend(searchFilter.name)" placeholder="Search"> </lx-search-filter> <lx-dropdown lx-position="right" lx-over-toggle="true" lx-width="300"> <lx-dropdown-toggle> <button class="btn btn--l btn--white btn--icon" lx-ripple> <i class="mdi mdi-apps"></i> </button> </lx-dropdown-toggle> <lx-dropdown-menu> <ul> <li><a class="dropdown-link" ng-click="editProfile();">Change Profile</a></li> <li><a class="dropdown-link" ng-click="dialogOpen(\'addfriends\')">Add Friends</a></li> <li><a class="dropdown-link" ng-click="dialogOpen(\'addgroup\')">Add Group</a></li> <li><a class="dropdown-link" ng-click="logoutConfirmBox()">Logout</a></li> </ul> </lx-dropdown-menu> </lx-dropdown> </div> </div> </div> </div> <div style="height:90%"> <div ng-if="!searching" style="height:100%"> <lx-tabs lx-panes-id="lefttab" lx-links="[{label: \'Message\'}, {label: \'Friends List\'}]" style="10%"></lx-tabs> <lx-tabs-panes id="lefttab" style="height:92%;overflow:auto"> <lx-tab-pane lx-label="Messages" ng-disabled="vm.tabIsDisabled"> <div class="p+"> <ul class="list mt++"> <lx-button lx-type="flat" lx-color="black" style="width:100%" ng-repeat="message in messages" ng-click="newActiveUser(message.user)" ng-class="{\'btnselected\':compareUser(activeuser,message.user)}"> <li class="list-row"> <div class="list-row__primary"> <img ng-src="data:image/png;base64,{{getUserPhoto(message.user.id)}}" width="40" height="40" class="img-round"> </div> <div class="list-row__content"> <span class="display-block">{{message.user.name}}</span> <span class="display-block fs-body-1 tc-black-2" ng-bind-html="message.messages[message.messages.length-1].value | emoji"></span> </div> <div class="list-row__secondary"> <span class="redpoint" ng-if="countUnreadMessage(message.messages)">{{countUnreadMessage(message.messages)}}</span> </div> </li> </lx-button> </ul> </div> </lx-tab-pane> <lx-tab-pane lx-label="Friends List"> <div> <div class="p+" ng-repeat="tag in friendlist"> <lx-button ng-init="show=true" style="width:100%" lx-type="flat" ng-click="show=!show"> <div class="row"> <!--<div class="col-md-1 col-xs-1 tag-arrow" style="top: -7px;" ng-class="{\'rotate-icon\':show == true}">\n                                            <lx-icon lx-id="play" class="btn--l btn--icon"  lx-size="xl" lx-color="purple" lx-type="icon"></lx-icon>\n\n                                        </div>--> <div class="col-md-4 col-xs-4"> <span class="fs-title display-block mb">{{ tag.tagname }}</span> </div> </div> <!--<div flex-container="row">\n                                  <div flex-container="column" flex-align="center"></div>\n                                  <div flex-container="column" flex-align="center">\n                                    <lx-icon lx-id="image" lx-size="xl" lx-color="purple" lx-type="icon"></lx-icon>\n                                    <span class="fs-title display-block mb">{{ tag.tagname }}</span>\n                                  </div>\n                                  </div>--> </lx-button> <div class="divider divider--dark"></div> <ul class="list mt++" ng-show="show"> <lx-button lx-type="flat" lx-color="black" ng-repeat="member in tag.tagmember" style="width:100%" ng-click="newActiveUser(member)" ng-class="{\'btnselected\':compareUser(activeuser,member)}"> <li> <div class="list-row list-row--has-separator"> <div class="list-row__primary"> <img ng-src="data:image/png;base64,{{member.photo}}" width="40" height="40" class="img-round"> </div> <div class="list-row__content"> <span>{{member.name}}</span> </div> <div class="list-row__secondary"> </div> </div> </li> </lx-button> </ul> </div> </div> </lx-tab-pane> </lx-tabs-panes> </div> <div ng-if="searching" style="height:100%"> <div class="p+"> <ul class="list mt++"> <lx-button lx-type="flat" lx-color="black" style="width:100%" ng-repeat="member in searchresult" ng-click="newActiveUser(member)" ng-class="{\'btnselected\':compareUser(activeuser,member)}"> <li class="list-row"> <div class="list-row__primary"> <img ng-src="data:image/png;base64,{{member.photo}}" width="40" height="40" class="img-round"> </div> <div class="list-row__content"> <span class="display-block">{{member.name}}</span> </div> <div class="list-row__secondary"> </div> </li> </lx-button> </ul> </div> </div> </div> </div> </div> </div> <div class="p+ col-md-offset-1 col-md-7" style="height:100%"> <div class="card" style="height:100%"> <div ng-if="!activeuser" style="height:100%"> <div flex-item="4" style="height:40%"></div> <div flex-item="4" style="height:40%;text-align:center"><h1>Welcome to Whatsup!</h1></div> </div> <div ng-if="activeuser&&activeuser.id==\'0\'" style="height:100%"> <div class="p+" style="height:100%"> <div class="toolbar" style="height:10%"> <span class="toolbar__label fs-title">{{activeuser.name}}</span> </div> <div class="divider divider--dark"></div> <div class="paragraph fs-body-1 mt+" style="overflow:atuo; height:70%"> <div class="p+"> <div ng-repeat="usermessages in messages" ng-if="compareUser(activeuser,usermessages.user)"> <div class="card" ng-repeat="message in usermessages.messages"> <div class="row"> <div class="col-md-2 col-xs-2"> <img ng-src="data:image/png;base64,{{message.extra.user.photo}}"> <!--<img src="images/yeoman.8cb970fb.png">--> </div> <div class="col-md-10 col-xs-10"> <div> <div class="p+"> <strong class="fs-headline display-block">{{message.extra.user.name}}</strong> <span class="fs-subhead tc-black-2 display-block">{{message.extra.message}}</span> </div> </div> <div class="card__actions"> <div ng-if="message.extra.status ==\'0\'"> <lx-button lx-color="black" lx-type="flat" ng-click="dealFriendRequest(message,1)">Accept</lx-button> <lx-button lx-color="orange" lx-type="flat" ng-click="dealFriendRequest(message,2)">Reject</lx-button> <lx-button lx-color="blue" lx-type="flat" ng-click="dealFriendRequest(message,3)">Ignore</lx-button> </div> <div ng-if="message.extra.status == \'1\'"> Accepted </div> <div ng-if="message.extra.status == \'2\'">Rejected</div> <div ng-if="message.extra.status == \'3\'">Ignored</div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div ng-if="activeuser" style="height:100%"> <div class="p+" style="height:100%"> <div class="toolbar" style="height:10%"> <span class="toolbar__label fs-title">{{activeuser.name}}</span> <div class="toolbar__right"> <lx-dropdown lx-position="right" lx-over-toggle="true" lx-width="300"> <lx-dropdown-toggle> <lx-button lx-size="l" lx-color="black" lx-type="icon"><i class="mdi mdi-dots-vertical"></i></lx-button> </lx-dropdown-toggle> <lx-dropdown-menu> <ul> <li><a class="dropdown-link" ng-click="lookFriendProfile()">Profile</a></li> <li><a class="dropdown-link" ng-click="deleteFriendconfirmBox()">Delete Friend</a></li> <!--<li class="dropdown-divider"></li>--> <!--<li><a class="dropdown-link dropdown-link&#45;&#45;is-header">Header</a></li>--> <!--<li><a class="dropdown-link">Separated link</a></li>--> </ul> </lx-dropdown-menu> </lx-dropdown> </div> </div> <div class="divider divider--dark"></div> <div class="paragraph fs-body-1 mt+" style="overflow:auto; height:70%" id="dialog"> <div ng-repeat="usermessages in messages "> <div ng-repeat="message in usermessages.messages" ng-if="compareUser(activeuser,usermessages.user)||compareUser(message.sender,activeuser)"> <div class="container-fluid" ng-if="user.id==message.sender.id&&user.name==message.sender.name"> <div class="p+ row" flex-item="12" flex-align="end"> <div class="col-md-5 col-md-offset-6 col-xs-offset-2 col-xs-8 talkitem"> <p class="talktime tc-grey-400 right">{{message.time | date:"MM/dd/yyyy h:mma"}}</p> <div class="pull-right"> <div class="talk-bubble tri-right round right-in"> <div class="talktext"> <p ng-bind-html="message.value | emoji"></p> </div> </div> </div> </div> <div class="col-md-1 col-xs-2"> <img ng-src="data:image/png;base64,{{user.photo}}" width="40" height="40" class="img-round"> <p class="tc-grey-600">{{user.name}}</p> </div> </div> </div> <div class="container-fluid" ng-if="activeuser.id==message.sender.id&&activeuser.name==message.sender.name"> <div class="p+ row" flex-column="12"> <div class="col-md-1 col-xs-1"> <img ng-src="data:image/png;base64,{{activeuser.photo}}" width="40" height="40" class="img-round"> <p class="tc-grey-600">{{activeuser.name}}</p> </div> <div class="col-md-5 col-xs-8"> <div class="talkitem"> <p class="talktime left tc-grey-400">{{message.time | date:"MM/dd/yyyy h:mma"}}</p> <div class="talk-bubble tri-right round left-in"> <div class="talktext"> <p ng-bind-html="message.value | emoji"></p> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="card__actions" style="height:20%"> <div class="p+ pt0 container-fluid" style="height:100%"> <!--<lx-text-field lx-label="Input">  --> <div class="row" flex-item="12" flex-column="12" style="height:100%"> <div class="col-md-10 col-xs-8" style="overflow:auto;height:100%"> <lx-text-field lx-label="Input"> <textarea lx-allow-clear="true" type="text" ng-model="textField.textarea.inputmessage" ng-trim="true"></textarea> </lx-text-field> </div> <div class="col-md-2 col-xs-4" flex-align="center center"> <div class="row"> <div class="p+ col-md-6 col-xs-6"> <lx-button lx-type="fab" lx-size="xl" ng-click="sendMessage();"> <lx-icon lx-id="send" lx-size="xl" lx-color="purple" lx-type="icon"></lx-icon> </lx-button> </div> <div class="p+ col-md-6 col-xs-6 dropdown-emoji"> <lx-button lx-type="fab" lx-size="xl" ng-mouseover="pagenumberInit()" ng-click="pagenumberInit()"> <lx-icon lx-id="emoticon" lx-size="xl" lx-color="purple" lx-type="icon"></lx-icon> </lx-button> <div class="dropdown-emoji-content" ng-init="chunk(5,6)"> <div> <table border="0"> <tr ng-repeat="rows in emojiarr[pagenumber]"> <td ng-repeat="value in rows"><a ng-click="textField.textarea.inputmessage = textField.textarea.inputmessage + \':\'+value+\':\'"><span ng-bind-html="\':\'+value+\':\'|emoji"></span></a></td> </tr> </table> <nav> <ul class="pager"> <li class="previous" ng-class="{\'disabled\':pagenumber<=0}"><a href class="pager-emoji" ng-click="decreasePage()"><span aria-hidden="true">&larr;</span></a></li> <li class="next" ng-class="{\'disabled\':pagenumber>=emojiarr.length-1}"><a href class="pager-emoji" ng-click="increasePage()"><span aria-hidden="true">&rarr;</span></a></li> </ul> </nav> </div> </div> </div> </div> </div> </div> <!--</lx-text-field>--> </div> </div> </div> </div> <!--<div ng-if="rightpage == 2" style="height:100%">Change Profile</div>\n            <div ng-if="rightpage == 3" style="height:100%">Check Profile</div>--> </div> </div> </div> <lx-dialog id="cropperimage" lx-auto-close="false"> <lx-dialog-header> <div class="toolbar bgc-primary pl++"> <span class="toolbar__label tc-white fs-title"> Cropper Photo </span> <div class="toolbar__right"> <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close> <i class="mdi mdi-close"></i> </lx-button> </div> </div> </lx-dialog-header> <lx-dialog-content> <table> <tr> <td> <div class="cropArea"> <img-crop image="myImage" result-image="myCroppedImage.src"></img-crop> </div> </td> <td> <div style="padding-left: 30px"> Croppered Photo <!--<input id="croopedimage" type="hidden" value="{{myCroppedImage}}" />--> <div><img ng-src="{{myCroppedImage.src}}"></div> </div> </td> </tr> </table> </lx-dialog-content> <lx-dialog-footer> <lx-button lx-color="black" lx-type="flat" ng-click="dialogClose(\'cropperimage\',true)">Cancel</lx-button> <lx-button lx-type="flat" ng-click="updatePhoto()">Add</lx-button> </lx-dialog-footer> </lx-dialog> <lx-dialog id="editprofile" lx-auto-close="false"> <lx-dialog-header> <div class="toolbar bgc-primary pl++"> <span class="toolbar__label tc-white fs-title"> Profile </span> <div class="toolbar__right"> <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close> <i class="mdi mdi-close"></i> </lx-button> </div> </div> <div class="toolbar bgc-primary pl++"> <div class="p+ toolbar__left"> <img ng-src="data:image/png;base64,{{userprofile.photo}}" ng-click="clickFileInput()" width="50" height="50" class="img-round"> <!--<lx-file-input type="file" id="fileInput" lx-allow-clear="true" lx-callback="addFile(newFile)" lx-label="Avator Upload" style="display:none"></lx-file-input>--> <input id="fileInput" type="file" onchange="angular.element(this).scope().addFile()" style="display:none"> </div> <div class="p+ toolbar__label tc-white">{{user.name}}</div> </div> </lx-dialog-header> <lx-dialog-content> <!--<div flex-container="row" flex-column="12">\n            <div flex-item="6">\n                <span>I love programming</span>\n            </div>\n            <div flex-item="">--> <div style="margin-top:50px"> <ul class="list mt++ pl++"> <li class="list-row list-row--multi-line list-row--has-separator"> <div class="list-row__content"> <span class="display-block">Status</span> <span class="display-block fs-body-1 tc-black-2">{{userprofile.status}}</span> </div> <div class="list-row__secondary"> <lx-button lx-type="flat" ng-click="dialogOpen(\'changestatus\',true)">Edit</lx-button> </div> </li> <li class="list-row list-row--multi-line list-row--has-separator"> <div class="list-row__content"> <span class="display-block">Gender</span> <span class="display-block fs-body-1 tc-black-2">{{userprofile.gender}}</span> </div> <div class="list-row__secondary"> <lx-button lx-type="flat" ng-click="dialogOpen(\'changegender\',true)">Edit</lx-button> </div> </li> <li class="list-row list-row--multi-line list-row--has-separator"> <div class="list-row__content"> <span class="display-block">Birthday</span> <span class="display-block fs-body-1 tc-black-2">{{userprofile.birthday|date}}</span> </div> <div class="list-row__secondary"> <lx-button lx-type="flat" ng-click="dialogOpen(\'changebirthday\',true)">Edit</lx-button> </div> </li> <li class="list-row list-row--multi-line list-row--has-separator"> <div class="list-row__content"> <lx-button lx-type="flat">Change Password</lx-button> </div> </li> </ul> </div> </lx-dialog-content> <lx-dialog-footer> <lx-button lx-color="black" lx-type="flat" ng-click="cancelChange(\'\',\'editprofile\');">Cancel</lx-button> <lx-button lx-type="flat" ng-click="saveChange(\'editprofile\')">Ok</lx-button> </lx-dialog-footer> </lx-dialog> <lx-dialog id="changestatus" lx-auto-close="false"> <lx-dialog-header> <div class="toolbar bgc-primary pl++"> <span class="toolbar__label tc-white fs-title"> Change Status </span> <div class="toolbar__right"> <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close> <i class="mdi mdi-close"></i> </lx-button> </div> </div> </lx-dialog-header> <lx-dialog-content> <div class="pl++"> <lx-text-field lx-label="Status" lx-allow-clear="true"> <input type="text" ng-model="userprofile.status"> </lx-text-field> </div> </lx-dialog-content> <lx-dialog-footer> <lx-button lx-color="black" lx-type="flat" ng-click="cancelChange(\'status\',\'changestatus\');">Cancel</lx-button> <lx-button lx-type="flat" ng-click="dialogClose(\'changestatus\',true);">Ok</lx-button> </lx-dialog-footer> </lx-dialog> <lx-dialog id="changegender" lx-auto-close="false"> <lx-dialog-header> <div class="toolbar bgc-primary pl++"> <span class="toolbar__label tc-white fs-title"> Change Gender </span> <div class="toolbar__right"> <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close> <i class="mdi mdi-close"></i> </lx-button> </div> </div> </lx-dialog-header> <lx-dialog-content> <div class="pl++"> <lx-select ng-model="userprofile.gender" lx-allow-clear="true" lx-choices="genderchoice" lx-fixed-label="true" lx-label="Gender"> <lx-select-selected> {{$selected}} </lx-select-selected> <lx-select-choices> {{ $choice }} </lx-select-choices> </lx-select> </div> </lx-dialog-content> <lx-dialog-footer> <lx-button lx-color="black" lx-type="flat" ng-click="cancelChange(\'gender\',\'changegender\')">Cancel</lx-button> <lx-button lx-type="flat" ng-click="dialogClose(\'changegender\',true);">Ok</lx-button> </lx-dialog-footer> </lx-dialog> <!--<lx-dialog id="changebirthday" lx-auto-close="false">\n     <lx-dialog-header>\n        <div class="toolbar bgc-primary pl++">\n            <span class="toolbar__label tc-white fs-title">\n                Change Status\n            </span>\n\n            <div class="toolbar__right">\n                <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close>\n                    <i class="mdi mdi-close"></i>\n                </lx-button>\n            </div>\n        </div>\n     </lx-dialog-header>\n     <lx-dialog-content>\n        <div class="pl++">\n            <lx-text-field lx-label="Status" lx-allow-clear="true">\n                <input type="text" ng-model="userprofile.status">\n            </lx-text-field>\n        </div>\n     </lx-dialog-content>\n     <lx-dialog-footer>\n        <lx-button lx-color="black" lx-type="flat"  ng-click="cancelChange(\'birthday\',\'changebirthday\');">Cancel</lx-button>\n        <lx-button lx-type="flat"  ng-click="dialogClose(\'changebirthday\',true);">Ok</lx-button>\n     </lx-dialog-footer>\n</lx-dialog>--> <lx-date-picker lx-auto-close="false" lx-escape-close="false" id="changebirthday" ng-model="userprofile.birthday" lx-callback="dataPickerCallback(newDate)" lx-locale="en" lx-max-date="" lx-min-date=""></lx-date-picker> <lx-dialog id="addfriends" lx-auto-close="false"> <lx-dialog-header> <div class="toolbar bgc-primary pl++"> <span class="toolbar__label tc-white fs-title"> Add Friends </span> <div class="toolbar__right"> <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close> <i class="mdi mdi-close"></i> </lx-button> </div> </div> <lx-tabs lx-panes-id="addfriends-panes" lx-links="[{label: \'Name\'}, {label: \'Email\'}]" lx-layout="full" lx-theme="dark" lx-color="primary" lx-indicator="yellow"></lx-tabs> </lx-dialog-header> <lx-dialog-content> <lx-tabs-panes id="addfriends-panes"> <lx-tab-pane> <div class="pl++"> <div class="pl++"> <div class="toolbar"> <lx-search-filter> <input type="text" ng-model="searchFilter.byname" placeholder="Search by Name"> </lx-search-filter> </div> </div> <ul class="list mt++ pl++"> <li class="list-row list-row--has-separator" ng-repeat="person in searchbynameresult"> <div class="list-row__primary"> <img ng-src="data:image/png;base64,{{person.photo}}" width="40" height="40" class="img-round"> </div> <div class="list-row__content"> <span>{{person.name}}</span> </div> <div class="list-row__secondary"> <div ng-if="person.id == choosedfriend.id"> <p class="tc-black-2" style="font-size: small">Request Sent</p> </div> <div ng-if="person.id != choosedfriend.id"> <lx-button lx-type="flat" ng-click="addFriendChooseGroup(person)">Add</lx-button> </div> </div> </li> </ul> </div> <lx-dialog-footer> <lx-button lx-color="black" lx-type="flat" lx-dialog-close>Cancel</lx-button> <lx-button lx-type="flat" ng-click="searchPersonByName()">Search</lx-button> </lx-dialog-footer> </lx-tab-pane> <lx-tab-pane> <div class="pl++"> <div class="toolbar"> <lx-search-filter> <input type="text" ng-model="searchFilter.byemail" placeholder="Search by Email"> </lx-search-filter> </div> <ul class="list mt++ pl++"> <li class="list-row list-row--has-separator" ng-repeat="person in searchbyemailresult"> <div class="list-row__primary"> <img ng-src="data:image/png;base64,{{person.photo}}" width="40" height="40" class="img-round"> </div> <div class="list-row__content"> <span>{{person.name}}</span> </div> <div class="list-row__secondary"> <div ng-if="person.id == choosedfriend.id"> <p class="tc-black-2" style="font-size: small">Request Sent</p> </div> <div ng-if="person.id != choosedfriend.id"> <lx-button lx-type="flat" ng-click="addFriendChooseGroup(person)">Add</lx-button> </div> </div> </li> </ul> </div> <lx-dialog-footer> <lx-button lx-color="black" lx-type="flat" lx-dialog-close>Cancel</lx-button> <lx-button lx-type="flat" ng-click="searchPersonByEmail()">Search</lx-button> </lx-dialog-footer> </lx-tab-pane> </lx-tabs-panes> <!--<div >\n            <div class="pl++">\n                <div class="toolbar">\n\n                    <lx-search-filter>\n                        <input type="text" ng-model="vm.searchFilter.fifth" placeholder="Search">\n                    </lx-search-filter>\n                </div>\n            </div>\n        </div>--> </lx-dialog-content> </lx-dialog> <lx-dialog id="choosegroup" lx-auto-close="false"> <lx-dialog-header> <div class="toolbar bgc-primary pl++"> <span class="toolbar__label tc-white fs-title"> Choose Group </span> <div class="toolbar__right"> <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close> <i class="mdi mdi-close"></i> </lx-button> </div> </div> </lx-dialog-header> <lx-dialog-content> <div class="mt++ pl++ list"> <div class="list-row list-row--has-separator"> <div class="list-row__primary"> <img ng-src="data:image/png;base64,{{addfrienddata.adduser.photo}}" width="40" height="40" class="img-round"> </div> <div class="list-row__content"> <span>{{addfrienddata.adduser.name}}</span> </div> </div> </div> <div class="pl++"> <div> <lx-text-field lx-label="Additional Message"> <textarea ng-model="addfrienddata.message"></textarea> </lx-text-field> </div> </div> <div class="pl++"> <lx-select ng-model="selectModel.choosedgroup" lx-allow-clear="true" lx-choices="friendlist" lx-fixed-label="true" lx-label="Group"> <lx-select-selected> {{$selected.tagname}} </lx-select-selected> <lx-select-choices> {{ $choice.tagname }} </lx-select-choices> </lx-select> </div> </lx-dialog-content> <lx-dialog-footer> <lx-button lx-color="black" lx-type="flat" lx-dialog-close>Cancel</lx-button> <lx-button lx-type="flat" ng-click="addFriendWithGroup()">Ok</lx-button> </lx-dialog-footer> </lx-dialog> <lx-dialog id="acceptchoosegroup" lx-auto-close="false"> <lx-dialog-header> <div class="toolbar bgc-primary pl++"> <span class="toolbar__label tc-white fs-title"> Choose Group </span> <div class="toolbar__right"> <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close> <i class="mdi mdi-close"></i> </lx-button> </div> </div> </lx-dialog-header> <lx-dialog-content> <!--<div class="mt++ pl++ list">--> <!--<div class="list-row list-row&#45;&#45;has-separator">--> <!--<div class="list-row__primary">--> <!--<img ng-src="data:image/png;base64,{{addfrienddata.adduser.photo}}" width="40" height="40" class="img-round">--> <!--</div>--> <!--<div class="list-row__content">--> <!--<span>{{addfrienddata.adduser.name}}</span>--> <!--</div>--> <!--</div>--> <!--</div>--> <!--<div class="pl++">--> <!--<div>--> <!--<lx-text-field lx-label="Additional Message">--> <!--<textarea ng-model="addfrienddata.message"></textarea>--> <!--</lx-text-field>--> <!--</div>--> <!--</div>--> <div class="pl++"> <lx-select ng-model="selectModel.choosedgroup" lx-allow-clear="true" lx-choices="friendlist" lx-fixed-label="true" lx-label="Group"> <lx-select-selected> {{$selected.tagname}} </lx-select-selected> <lx-select-choices> {{ $choice.tagname }} </lx-select-choices> </lx-select> </div> </lx-dialog-content> <lx-dialog-footer> <lx-button lx-color="black" lx-type="flat" lx-dialog-close>Cancel</lx-button> <lx-button lx-type="flat" ng-click="acceptChooseGroup()">Ok</lx-button> </lx-dialog-footer> </lx-dialog> <lx-dialog id="addgroup" lx-auto-close="false"> <lx-dialog-header> <div class="toolbar bgc-primary pl++"> <span class="toolbar__label tc-white fs-title"> Add New Group </span> <div class="toolbar__right"> <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close> <i class="mdi mdi-close"></i> </lx-button> </div> </div> </lx-dialog-header> <lx-dialog-content> <div class="pl++"> <lx-text-field lx-label="Group Name" lx-allow-clear="true"> <input type="text" ng-model="textFields.floating.newgroup"> </lx-text-field> </div> </lx-dialog-content> <lx-dialog-footer> <lx-button lx-color="black" lx-type="flat" lx-dialog-close>Cancel</lx-button> <lx-button lx-type="flat" lx-dialog-close ng-click="addGroup()">Add</lx-button> </lx-dialog-footer> </lx-dialog> <lx-dialog id="friendprofile" lx-auto-close="false"> <lx-dialog-header> <div class="toolbar bgc-primary pl++"> <span class="toolbar__label tc-white fs-title"> Profile </span> <div class="toolbar__right"> <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close> <i class="mdi mdi-close"></i> </lx-button> </div> </div> <div class="toolbar bgc-primary pl++"> <div class="p+ toolbar__left"> <img ng-src="data:image/png;base64,{{friendprofile.photo}}" width="50" height="50" class="img-round"> </div> <div class="p+ toolbar__label tc-white">{{activeuser.name}}</div> </div> </lx-dialog-header> <lx-dialog-content> <!--<div flex-container="row" flex-column="12">\n            <div flex-item="6">\n                <span>I love programming</span>\n            </div>\n            <div flex-item="">--> <div style="margin-top:50px"> <ul class="list mt++ pl++"> <li class="list-row list-row--multi-line list-row--has-separator"> <div class="list-row__content"> <span class="display-block">Status</span> <span class="display-block fs-body-1 tc-black-2">{{friendprofile.status}}</span> </div> </li> <li class="list-row list-row--multi-line list-row--has-separator"> <div class="list-row__content"> <span class="display-block">Gender</span> <span class="display-block fs-body-1 tc-black-2">{{friendprofile.gender}}</span> </div> </li> <li class="list-row list-row--multi-line list-row--has-separator"> <div class="list-row__content"> <span class="display-block">Birthday</span> <span class="display-block fs-body-1 tc-black-2">{{friendprofile.birthday|date}}</span> </div> </li> </ul> </div> </lx-dialog-content> <lx-dialog-footer> <lx-button lx-type="flat" lx-dialog-close>Ok</lx-button> </lx-dialog-footer> </lx-dialog>'),
a.put("views/register.html",'<!--<div  layout="row" layout-align="center center" ng-controller="RegisterCtrl">\n    <md-card flex="50">\n         <form name="registerForm" novalidate ng-submit="sendForm()">\n        <img ng-src="{{imagePath}}" class="md-card-image" alt="Washed Out">\n        <md-card-title>\n          <md-card-title-text>\n            <span class="md-headline">WhatsUp</span>\n          </md-card-title-text>\n        </md-card-title>\n        <md-card-content>\n             <md-input-container class="md-icon-float md-block">\n            <label>Name</label>\n            <md-icon><ng-md-icon icon="account_box"></ng-md-icon></md-icon>\n            <input ng-model="register.name" name="name" type="text" ng-minlength="6" ng-maxlength="30" username-unique="/check/username" required>\n            <div  ng-messages="registerForm.name.$error" role="alert">\n                <div ng-messages-include="views/error.html"></div>\n                <div ng-message="required">This is required.</div>\n                <div ng-message="checkAvailability">Checking...</div>\n                <div ng-message="usernameAvailability">Username has been taken.</div>\n            </div>\n         </md-input-container>\n         <md-input-container class="md-icon-float md-block">\n            <label>Email</label>\n            <md-icon><ng-md-icon icon="email"></ng-md-icon></md-icon>\n            <input ng-model="register.email" name="email" type="email" ng-pattern="/^.+@.+\\..+$/" minlength="6" maxlength="100" required>\n            <div ng-messages="registerForm.email.$error" role="alert">\n                <div ng-message-exp="[\'required\', \'minlength\', \'maxlength\', \'pattern\']">\n                    Your email must be between 6 and 100 characters long and look like an e-mail address.\n                </div>\n            </div>\n         </md-input-container>\n         <md-input-container class="md-icon-float md-block">\n            <label>Password</label>\n            <md-icon><ng-md-icon icon="vpn_key"></ng-md-icon></md-icon>\n            <input ng-model="register.password" name="password" type="password"  required>\n            <div ng-messages="registerForm.password.$error" role="alert">\n              <div ng-message="required">This field is required.</div>\n            </div>\n         </md-input-container>\n        <md-input-container class="md-icon-float md-block">\n            <label>Repeat Password</label>\n            <md-icon><ng-md-icon icon="vpn_key"></ng-md-icon></md-icon>\n            <input ng-model="register.repeatpsw" name="repeatpsw" type="password" ng-pattern="/^{{register.password}}$/" required>\n            <div ng-messages="registerForm.repeatpsw.$error" role="alert">\n                <div ng-message="pattern">\n                    Not the same as the first time.\n                </div>\n                <div ng-message="required">This field is required.</div>\n            </div>\n         </md-input-container>\n         </md-card-content>\n         <md-card-actions layout="row" layout-align="center center">\n          <md-button class="md-raised md-warn" type="submit">Register</md-button>\n        </md-card-actions>\n        </form>\n     </md-card>\n</div>--> <div class="register row"> <div class="card col-md-6 col-md-offset-3 col-xs-6 col-xs-offset-3" style="bottom:-100px"> <form name="registerForm" novalidate ng-submit="sendForm()"> <div class="p+"> <h1 class="fs-display-3 display-block">WhatsUp</h1> <h2 class="tc-black-2 display-block">Register</h2> <lx-text-field lx-label="Name" lx-allow-clear="true"> <input ng-model="register.username" name="username" type="text" ng-minlength="4" ng-maxlength="30" username-unique="/check/username" required> </lx-text-field> <div ng-messages="registerForm.username.$error" ng-if="registerForm.username.$touched||registerForm.$submitted" class="text-field-error"> <div ng-message="required">This is required.</div> <div ng-message="checkAvailability">Checking...</div> <div ng-message="usernameAvailability">Username has been taken.</div> </div> <lx-text-field lx-label="Email" lx-allow-clear="true"> <input ng-model="register.email" name="email" type="email" ng-pattern="/^.+@.+\\..+$/" minlength="3" maxlength="100" required> </lx-text-field> <div ng-messages="registerForm.email.$error" ng-if="registerForm.email.$touched||registerForm.$submitted" class="text-field-error"> <div ng-message-exp="[\'required\', \'minlength\', \'maxlength\', \'pattern\']"> Your email must be between 6 and 100 characters long and look like an e-mail address. </div> </div> <lx-text-field lx-label="Password" lx-allow-clear="true"> <input ng-model="register.password" id="password" type="password" name="password" required> </lx-text-field> <div ng-messages="registerForm.password.$error" ng-if="registerForm.password.$touched||registerForm.$submitted" class="text-field-error"> <div ng-message="required">This field is required.</div> </div> <lx-text-field lx-label="Repeat Password" lx-allow-clear="true"> <input ng-model="register.repeatpsw" name="repeatpsw" type="password" compare-to="password" required> </lx-text-field> <div ng-messages="registerForm.repeatpsw.$error" ng-if="registerForm.repeatpsw.$touched||registerForm.$submitted" class="text-field-error"> <div ng-message="pwmatch"> Not the same as the first time. </div> <div ng-message="required">This field is required.</div> </div> <div class="row"> <div class="col-md-10 col-xs-8"> <lx-file-input type="file" id="fileInput" lx-allow-clear="true" lx-callback="addFile(newFile)" lx-label="Avator Upload"></lx-file-input> </div> <div class="col-md-2 col-xs-4"> <div class="miniphoto"> <img ng-if="!cancel" ng-src="{{myCroppedImage.src}}"> </div> </div> </div> <!--<input type="file" id="fileInput"  />--> </div> <div class="card__actions row"> <div class="col-md-4 col-md-offset-4 col-xs-4 col-xs-offset-4"> <lx-button lx-color="black" type="submit" lx-type="flat">Register</lx-button> <lx-button lx-color="orange" lx-type="flat" ng-href="/#/login">Login</lx-button> </div> </div> </form> </div> <lx-dialog id="cropperimage" lx-auto-close="false"> <lx-dialog-header> <div class="toolbar bgc-primary pl++"> <span class="toolbar__label tc-white fs-title"> Cropper Photo </span> <div class="toolbar__right"> <lx-button lx-size="l" lx-color="white" lx-type="icon" lx-dialog-close> <i class="mdi mdi-close"></i> </lx-button> </div> </div> </lx-dialog-header> <lx-dialog-content> <table> <tr> <td> <div class="cropArea"> <img-crop image="myImage" result-image="myCroppedImage.src"></img-crop> </div> </td> <td> <div style="padding-left: 30px"> Croppered Photo <!--<input id="croopedimage" type="hidden" value="{{myCroppedImage}}" />--> <div><img ng-src="{{myCroppedImage.src}}"></div> </div> </td> </tr> </table> </lx-dialog-content> <lx-dialog-footer> <lx-button lx-color="black" lx-type="flat" ng-click="cancelCropper()">Cancel</lx-button> <lx-button lx-type="flat" lx-dialog-close ng-click="">Add</lx-button> </lx-dialog-footer> </lx-dialog> </div>'),a.put("views/test.html","")}]);